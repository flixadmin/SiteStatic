$.fn.isInViewport = function () {if($(this).attr('data-bypassviewport') == 'true'){return true};let elementTop = $(this).offset().top;let elementBottom = elementTop + $(this).outerHeight();let viewportTop = $(window).scrollTop();let viewportBottom = viewportTop + $(window).height();return elementBottom > viewportTop && elementTop < viewportBottom};$.fn.replaceTag=function(e){return this.each(function(){let l=$(this).prop("outerHTML"),t=l.match(/<([a-zA-Z]*?)( |>)/)[0].replaceAll("<","").replaceAll("/","").replaceAll("=","").replaceAll(">","").trim(),r=l.replace(t,e);r=r.slice(0,r.length-t.length-3);let c;c=l.endsWith("</"+t+">")?r+"</"+e+">":r,$(this).prop("outerHTML",c)})};function CDN(t,e,a){return e=e?"&w="+e:"",a=a?"&q="+a:"",window.location.protocol+"//wsrv.nl/?url="+encodeURIComponent(new URL(t,window.location.href).href)+e+a}function get_post_data(js){let post_data={},script;return eval(js.replaceAll("window.m","post_data.")),post_data}function load_more_posts(){let t=20,e=$("#blog-post .post-grid"),a=$("#blog-post .post-grid .more-results");a.find(".default").hide(),a.find(".load-state").show();let l=e.find("> article").length;$.ajax({url:$("#blog-post").attr("data-feed")+"&max-results="+(t+1)+"&start-index="+(l+1),success:function(o,s){let i=o.feed,r=i.entry;i.openSearch$totalResults.$t-l<1?(a.before('<p class="error no-post col-span-full px-6 py-3 rounded-md bg-yellow-200/50 text-yellow-800 dark:bg-yellow-800/50 dark:text-yellow-100 text-lg w-fit mx-auto shadow"><i class="bi bi-exclamation-octagon me-2"></i> Sorry, That\'s all we got.</p>'),a.hide()):(r.slice(0,t).forEach(function(t){let e=t.content.$t,l=t.link.find(t=>"alternate"==t.rel).href,o=get_post_data($("<div>").html(e).find("script").text()),s=o.title,i=o.rating/10,r=o.thumbnail_url.replace("/original/","/w185/");a.before(`<article class='post-item relative aspect-movie overflow-hidden rounded-md border-2 hover:border-emerald-600 dark:hover:border-emerald-400 border-transparent ease duration-300' onclick='oac(this)'><div class='thumbnail w-full h-full'><a href='${l}'><div class='h-full w-full to-load animate-pulse dark:bg-slate-600 bg-slate-400 text-transparent' alt='${s}' src='${CDN(r)}' loading='lazy'></div></a></div><div class='title absolute bottom-0 text-white text-sm p-2 bg-fade w-full ease-out duration-300 opacity-0'><a class='two-lines' href='${l}'>${s}</a></div><div class='rating absolute top-0 right-0 bg-black/[.7] px-1 py-[2px] text-xs rounded-bl text-white ease-out duration-300 opacity-0'><i class='bi bi-star-fill text-yellow-500 align-text-bottom'></i> <span>${i}</span></div></article>`)}),e.find("article").lazyLoad(),a.find(".default").show(),a.find(".load-state").hide())},error:function(t,l){a.hide(),e.append('<p class="error no-result col-span-full px-6 py-3 rounded-md bg-yellow-200/50 text-yellow-800 dark:bg-yellow-800/50 dark:text-yellow-100 text-lg w-fit mx-auto shadow"><i class="bi bi-exclamation-octagon me-2"></i> Sorry, No Internet Connection.</p>')}})}function sidebar_lp(){$.getJSON("/feeds/posts/default?alt=json&max-results=5",function(t){let e=$("#slp"),a=t.feed,l=a.entry,o=a.openSearch$totalResults.$t;if(e.html(""),o<1)e.append('<p class="error no-post col-span-full px-6 py-3 rounded-md bg-yellow-200/50 text-yellow-800 dark:bg-yellow-800/50 dark:text-yellow-100 text-lg w-fit mx-auto shadow"><i class="bi bi-exclamation-octagon me-2"></i> Sorry, That\'s all we got.</p>');else{let s=0;l.forEach(function(t){let a=t.content.$t,l=t.link.find(t=>"alternate"==t.rel).href,o="/"+l.replace("://","").split("/").slice(1).join("/"),i=-1!=window.location.href.indexOf(o),r=get_post_data($("<div>").html(a).find("script").text()),n=r.title,d=r.rating/10,c=r.thumbnail_url.replace("/original/","/w185/");!i&&s<4&&(e.append(`<article class='post-item relative aspect-movie overflow-hidden rounded-md border-2 hover:border-emerald-600 dark:hover:border-emerald-400 border-transparent ease duration-300' onclick='oac(this)'><div class='thumbnail w-full h-full'><a href='${l}'><div class='h-full w-full to-load animate-pulse dark:bg-slate-600 bg-slate-400 text-transparent' alt='${n}' src='${CDN(c)}' loading='lazy'></div></a></div><div class='title absolute bottom-0 text-white text-sm p-2 bg-fade w-full ease-out duration-300 opacity-0'><a class='two-lines' href='${l}'>${n}</a></div><div class='rating absolute top-0 right-0 bg-black/[.7] px-1 py-[2px] text-xs rounded-bl text-white ease-out duration-300 opacity-0'><i class='bi bi-star-fill text-yellow-500 align-text-bottom'></i> <span>${d}</span></div></article>`),s+=1)}),e.find("article").lazyLoad()}})}function oac(t){let e=$(t).find("a:eq(0)").attr("href");e&&(window.location.href=e)}$("#theme-toggle").click(function(){$("html").toggleClass("dark"),window.localStorage.setItem("light",!$("html").hasClass("dark"))}),$("#menu-toggle, #mobile-menu .overlay, #mobile-menu .canvas-close").click(function(){$("#mobile-menu .overlay").toggleClass("opacity-0 invisible"),$("#mobile-menu .canvas").toggleClass("-translate-x-80"),$("body").toggleClass("overflow-hidden")}),$("#mobile-menu li.has-submenu > a").click(function(){$(this).parent().toggleClass("open"),$(this).parent().css("--ul-height","0px"==$(this).parent().css("--ul-height")?$(this).parent().find("> ul").prop("scrollHeight")+"px":"0px")}),$(window).on("load",function(){window.__psp=9999999,$(window).on("scroll",function(){window.__csp=window.scrollY,window.__psp<window.__csp&&70<window.__csp?$("header").addClass("!-top-20"):$("header").removeClass("!-top-20"),window.__psp=window.__csp})}),$(".copyright-year").text(new Date().getFullYear()),$("#header-search-btn, #search-overlay").click(function(){$("#search-overlay").toggleClass("opacity-0 invisible"),$("#search-form").toggleClass("-translate-y-24"),$("body").toggleClass("overflow-hidden"),$("#header-search input").val(""),$("html").hasClass("hson")?($("html").removeClass("hson"),$("#search-div").css({overflow:"hidden",opacity:0,visibility:"hidden"})):($("html").addClass("hson"),$("#search-results > *").remove(),$("#search-div").css({overflow:"",opacity:"",visibility:""}),$("#header-search input").focus())}),$("#header-search #search-form").submit(function(){let t=$(this),e=$("#search-results");t.find("input").blur(),t.find("button").prop("disabled",!0).focus(),$.ajax({url:"/feeds/posts/default?alt=json&max-results=5&"+t.serialize(),success:function(a,l){let o=a.feed,s=o.entry,i=o.openSearch$totalResults.$t,r=!1;i<2?e.css("--cols","1"):e.css("--cols","2"),5==i&&(r=!0),0==i?(e.html(""),e.append('<p class="error no-result px-6 py-3 rounded-md bg-red-400 text-red-50 dark:bg-red-900 dark:text-red-100 text-lg col-span-full"><i class="bi bi-exclamation-octagon me-2"></i> Sorry, No results available.</p>')):(e.html(""),s.slice(0,4).forEach(function(t){let a=t.content.$t,l=t.link.find(t=>"alternate"==t.rel).href,o=get_post_data($("<div>").html(a).find("script").text()),s=o.title,i=o.rating/10,r=o.thumbnail_url.replace("/original/","/w185/");e.append(`<article class='post-item relative aspect-movie overflow-hidden rounded-md border-2 hover:border-emerald-600 dark:hover:border-emerald-400 border-transparent ease duration-300 max-w-32' onclick='oac(this)' data-bypassviewport='true'><div class='thumbnail w-full h-full'><a href='${l}'><div class='h-full w-full to-load animate-pulse dark:bg-slate-600 bg-slate-400 text-transparent' alt='${s}' src='${CDN(r)}' loading='lazy'></div></a></div><div class='title absolute bottom-0 text-white text-sm p-2 bg-fade w-full ease-out duration-300 opacity-0'><a class='two-lines' href='${l}'>${s}</a></div><div class='rating absolute top-0 right-0 bg-black/[.7] px-1 py-[2px] text-xs rounded-bl text-white ease-out duration-300 opacity-0'><i class='bi bi-star-fill text-yellow-500 align-text-bottom'></i> <span>${i}</span></div></article>`)}),r&&e.append(`<a class="more-results col-span-full w-fit mx-auto bg-emerald-600/75 hover:bg-emerald-600 active:bg-emerald-700 dark:bg-emerald-400/75 dark:hover:bg-emerald-400 dark:active:bg-emerald-300 text-white ease-out duration-300 px-4 py-2 rounded leading-none active:scale-[.9]" href="/search?${t.serialize()}">Show More <i class="bi bi-arrow-right-short"></i></a>`),e.find("article").lazyLoad()),t.find("button").prop("disabled",!1)},error:function(a,l){e.html(""),e.append('<p class="error no-result px-6 py-3 rounded-md bg-red-400 text-red-50 dark:bg-red-900 dark:text-red-100 text-lg col-span-full"><i class="bi bi-exclamation-octagon me-2"></i> Sorry, No Internet Connection.</p>'),t.find("button").prop("disabled",!1)}})}),$.fn.lazyLoad=function(){return this.each(function(){let t=$(this);-1==["attached","loading","done"].indexOf(t.data("status"))&&(t.data("status","attached"),"attached"==t.data("status")&&(t.data("status","loading"),t.find(".to-load").replaceTag("img"),t.find(".to-load").on("error",function(){$.getJSON("/feeds/posts/default/"+t.data("id")+"?alt=json",function(e){let a=e.entry.content.$t,l=get_post_data($("<div>").html(a).find("script").text()).thumbnail_url.replace("/original/","/w185/");t.find(".to-load").attr("src",CDN(l))})}),t.find(".to-load").on("load",function(){$(this).addClass("loaded").removeClass("to-load animate-pulse dark:bg-slate-600 bg-slate-400 text-transparent"),t.find(".title").removeClass("opacity-0"),""==t.find(".rating span").text().trim()?$.getJSON("/feeds/posts/default/"+t.data("id")+"?alt=json",function(e){let a=e.entry.content.$t,l=get_post_data($("<div>").html(a).find("script").text());t.find(".rating span").text(l.rating/10),t.find(".rating").removeClass("opacity-0"),t.data("status","done")}):(t.find(".rating").removeClass("opacity-0"),t.data("status","done"))})))})},$("#sidebar").parent().theiaStickySidebar({additionalMarginBottom:16,additionalMarginTop:16}),$(".site-content").theiaStickySidebar({additionalMarginBottom:16,additionalMarginTop:16}),window.addEventListener("load",function(){window.dispatchEvent(new Event("scroll")),$("article").lazyLoad(),$('a[href="#"]').removeAttr("href").addClass("cursor-pointer")}),$("#search-results, #search-div").click(function(t){$(t.target)[0]==$(this)[0]&&$("#header-search-btn").click()}),$("#search-results, #search-div").hover(function(t){$(t.target)[0]==$(this)[0]?$(this).addClass("cursor-x"):$(this).removeClass("cursor-x")},function(t){$(t.target)[0]==$(this)[0]&&$(this).removeClass("cursor-x")});
